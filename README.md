# java-lotto-precourse

## 목표

1. TDD를 통해 각 클래스의 기능 분리를 명확히 한다.
    - 각 클래스가 명확한 하나의 큰 기능을 수행하도록 한다.
2. 가독성 좋은 코드를 작성한다.
    - ENUM을 통해 중복되는 값을 관리한다.
    - 인덴트 깊이 2 이내로 작성한다.
    - 한 메서드가 15줄을 넘지 않는다.
    - 클래스, 메서드, 변수명의 의미를 확실히 한다.

## 소개

로또 발매기를 구현하는 프로그램입니다. 구매 금액만큼 로또를 랜덤으로 발행할 수 있습니다. 당첨 번호와 보너스 번호를 입력할 수 있습니다.

로또 한 장의 가격은 1000원이며, 수량이 아닌 금액을 입력하여 구입 금액에 해당하는 만큼 로또를 자동으로 발행합니다.

사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료합니다.

## 기능 정의

1. 로또 발행

- 사용자는 **1,000원** 단위로 로또를 구입할 수 있다.
- 사용자는 **최대 100,000원 어치**의 로또를 구입할 수 있다.
- 로또 하나에는 **1~45 사이의 정수**가 중복되지 않게 **6개** 들어간다.
- 1,000원 단위로 나누어 떨어지지 않는다면 오류를 발생시키고 다시 입력한다.

2. 로또 번호 추첨

- 사용자는 `,`를 이용해서 6개의 당첨 로또 번호를 입력할 수 있다.
    - `,`를 제외한 문자 혹은 1~45 사이의 정수가 아닌 값을 입력 시 오류를 발생시키고 당첨 로또 번호를 다시 입력한다.
    - 당첨 로또 번호가 6개 미만일 시 오류를 발생시키고 당첨 로또 번호를 다시 입력한다.
    - 입력 번호가 중복될 시 오류를 발생시키고 당첨 로또 번호를 다시 입력한다.
- 사용자는 보너스 번호를 입력할 수 있다.
    - 문자 혹은 1~45 사이의 정수가 아닌 값을 입력 시 오류를 발생시키고 보너스 번호를 다시 입력한다.
    - 보너스 번호가 당첨 로또 번호와 중복될 시 오류를 발생시키고 보너스 번호를 다시 입력한다.

3. 로또 통계 및 수익률 출력

- 로또 번호 추첨이 끝나면 점수표의 종류를 순서대로 출력한다.
- 총 수익률을 출력한다.
- 집계
    - 보너스 볼은 2등을 제외하고 점수에 포함되지 않는다.

    ```agsl
    5등 3개 일치 (5,000원) 
    4등 4개 일치 (50,000원) 
    3등 5개 일치 (1,500,000원)
    2등 5개 일치, 보너스 볼 일치 (30,000,000원)
    1등 6개 일치 (2,000,000,000원)
    ```

4. 기타

- **공백**은 프로그램이 자동으로 없앤다. ex) `  1     0 , 5 ,...` -> `10,5,...`
- 사용자 입력이 잘못되면 잘못된 지점부터 다시 입력받는다.

## 구현 기능 목록

### 입력

- [x] 로또 구입 금액을 입력받는다.
- [x] 당첨 로또 번호를 입력받는다.
- [x] 보너스 번호를 입력받는다.
    - [x] (공통) 공백을 제거한다.
    - [x] (공통) 유효성 검사에 실패하면 재입력 받는다.

### 로또

- [x] 1~45 사이의 중복되지 않는 6개의 로또 번호를 결정한다.
    - [x] 로또 번호가 6개가 아니라면 오류를 출력한다.
    - [x] 로또 번호가 1~45 사이의 정수가 아니라면 오류를 출력한다.
    - [x] 중복되는 번호가 있다면 오류를 출력한다.

### 발행 로또

- [x] 로또 구입 금액이 올바른지 확인한다.
    - [x] 로또 구입 금액이 1,000원 단위로 나뉘어 떨어지지 않으면 오류를 출력한다.
    - [x] 로또 구입 금액이 100,000원을 넘으면 오류를 출력한다.
- [x] 로또 구입 금액만큼 로또를 생성한다.

### 당첨 로또

- [x] 입력받은 당첨 번호가 유효한지 확인한다. (로또에서 처리됨)
- [x] 입력받은 보너스 번호가 올바른지 확인한다.
    - [x] 보너스 번호가 1~45 사이의 정수가 아니라면 오류를 출력한다.
    - [x] 로또 번호가 당첨 로또 번호와 중복된다면 오류를 출력한다.

### 통계

- [x] 몇 개의 로또가 당첨되었는지 계산한다.
- [x] 수익률을 계산한다.

### 출력

- [x] 로또 구입 후 발행된 로또 목록을 출력한다.
- [x] 번호 추첨 후 통계 및 수익률을 출력한다.

## 예외

- 미정

## 구조

```
└── src
    ├── main
    │   └── java
    │       └── lotto
    │           ├── Application.java
    │           ├── common
    │           │   ├── ExceptionMessage.java
    │           │   ├── LottoConfig.java
    │           │   └── RandomNumberGenerator.java
    │           ├── domain
    │           │   ├── IssuedLotto.java
    │           │   ├── IssuedRandomLotto.java
    │           │   ├── Lotto.java
    │           │   ├── LottoProfitCalculator.java
    │           │   ├── LottoRank.java
    │           │   ├── LottoResult.java
    │           │   └── validator
    │           │       ├── IssuedLottoValidator.java
    │           │       ├── LottoResultValidator.java
    │           │       └── LottoValidator.java
    │           ├── dto
    │           │   └── LottoStatisticsDto.java
    │           ├── presentation
    │           │   ├── LottoController.java
    │           │   └── view
    │           │       ├── InputView.java
    │           │       └── OutputView.java
    │           └── service
    │               └── LottoService.java
    └── test
        └── java
            └── lotto
                ├── ApplicationTest.java
                ├── domain
                │   ├── IssuedRandomLottoTest.java
                │   ├── LottoProfitCalculatorTest.java
                │   ├── LottoResultTest.java
                │   └── LottoTest.java
                └── service
```