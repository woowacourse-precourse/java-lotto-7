# java-lotto-precourse

## 프로젝트 개요
우아한테크코스의 3주 차 프리코스 과제로, 로또 발매기를 구현하는 프로젝트입니다. 본 프로젝트는 객체 지향 설계 원칙과 단위 테스트를 통해 코드의 유지 보수성과 확장성을 높이는 것을 목표로 합니다. MVC 패턴을 적용하여 각 기능을 독립적으로 관리하고, 코드의 가독성과 구조화를 중점적으로 고려했습니다.

## 학습 목표
- **객체 지향 설계**: 관련된 함수들을 클래스로 묶어 객체 간 협력을 통해 큰 기능을 구현합니다.
- **테스트 주도 개발(TDD)**: 각 클래스와 함수에 대한 단위 테스트를 통해 코드의 정확성과 안정성을 확보합니다.
- **클린 코드**: 코드의 가독성을 높이기 위해 코딩 컨벤션을 준수하며, 1, 2주 차 피드백을 반영하여 하드 코딩 방지, 함수 분리, 의미 있는 네이밍 등을 실천합니다.

## 기능 목록
- **번호 생성 전략**
    - 번호 생성 방식을 정의하는 인터페이스 (`NumberGenerationStrategy`)를 통해 유연한 번호 생성 방식을 지원합니다.
    - 랜덤 번호 생성 (`RandomNumberGeneration`)과 고정 번호 생성 (`FixedNumberGeneration`) 구현체를 제공하여 테스트와 실제 사용 시 다양한 번호 생성 방식을 사용할 수 있습니다.


- **로또 번호 생성 및 유효성 검증**
    - 로또 번호는 1~45 범위의 중복되지 않는 6개의 번호로 구성됩니다.
    - 번호 개수, 중복 여부, 범위 등을 검증하여 유효하지 않은 번호 리스트에 대해 예외를 발생시킵니다.


- **로또 발행**
    - 사용자가 입력한 금액을 기반으로 구매 가능한 로또 티켓 수를 계산하고, 해당 수량만큼 로또 번호를 생성하여 티켓을 발행합니다.
    - 로또 1장의 가격은 1,000원이며, 입력된 금액이 1,000원 단위가 아닐 경우 예외를 발생시킵니다.


- **당첨 번호 설정**
    - 당첨 번호 6개와 보너스 번호 1개를 입력받아 저장합니다.
    - 입력받은 번호가 유효한 범위(1~45) 내에 있는지, 중복되지 않는지 검증합니다.


- **당첨 결과 확인**
    - 사용자가 구매한 로또 번호와 당첨 번호를 비교하여, 일치하는 번호 개수에 따라 당첨 결과를 확인합니다.
    - 당첨 등수는 1등부터 5등까지 있으며, 등수별 당첨 조건과 상금을 기준으로 결과를 계산합니다.


- **수익률 계산**
    - 총 당첨 금액과 구입 금액을 바탕으로 수익률을 계산하여 소수점 둘째 자리까지 반올림하여 출력합니다.
    - 구입 금액이 0원이거나 계산이 불가능한 경우 예외 처리를 통해 에러 메시지를 출력합니다.


- **예외 처리 및 로깅**
  - 모든 입력값에 대해 유효성을 검증하고, 잘못된 입력이 있을 경우 `[ERROR]`로 시작하는 에러 메시지를 출력하여 사용자에게 알립니다.
  - `LoggerUtils`를 통해 프로그램의 주요 흐름 및 예외 상황을 로깅하여 디버깅 및 문제 분석이 용이하도록 구현했습니다.

## 설치 및 실행 방법
### 요구 사항
- **Java 21**이 설치되어 있어야 합니다.

### 프로젝트 클론
```bash
git clone <repository_url>
cd java-lotto-precourse
```

### 빌드 및 실행

1. **로컬에서 프로젝트 빌드**:
```bash
./gradlew clean build
```

2. **프로그램 실행**:
```bash
./gradlew run
```

### 테스트 실행
1. **모든 테스트 실행**:
```bash
./gradlew clean test
```
2. 빌드 성공 확인

   모든 테스트가 성공적으로 통과하면 `BUILD SUCCESSFUL` 메시지가 출력됩니다.

## 코드 구조
이 프로젝트는 **MVC 패턴**에 따라 코드가 구조화되어 있습니다.

- **Model**: 로또 번호, 티켓, 당첨 결과 계산 등 비즈니스 로직을 처리합니다.
- **View**: 사용자 입력 및 출력을 담당하며, `InputView`와 `ResultView`로 구성됩니다.
- **Controller**: 프로그램의 흐름을 제어하고, View와 Model 사이의 상호작용을 관리합니다.
- **Service**: 비즈니스 로직을 캡슐화하여, Controller가 Model과 직접 상호작용하지 않도록 합니다.
- **Util**: 유효성 검사 등 공통 기능을 제공하여 코드 중복을 줄이고 재사용성을 높입니다.

## 추가된 기능
- **ErrorMessages**: 에러 메시지를 상수화하여 코드 일관성을 유지하고, 재사용성을 높입니다.
- **LoggerUtils**: 프로그램 실행 시 주요 정보와 오류 로그를 기록하여 디버깅 용이성을 강화합니다.

## 커밋 컨벤션
- 커밋 메시지는 **AngularJS Git Commit Message Conventions**에 맞춰 작성합니다.
- 기능별 커밋을 통해 변경 사항을 명확하게 구분하여, 코드 리뷰와 히스토리 관리를 용이하게 합니다.

## 과제 진행 시 참고 사항
1. **하드 코딩 방지**: 코드 내에서 상수(`static final`)를 적극 활용하여 하드 코딩을 방지했습니다.
2. **함수 분리**: 한 함수가 하나의 기능만 수행하도록 분리하여 코드 가독성과 유지 보수성을 높였습니다.
3. **코딩 컨벤션 준수**: Java 코딩 컨벤션을 준수하여 코드 스타일을 일관되게 유지하였습니다.
4. **단위 테스트**: 각 클래스별로 단위 테스트를 작성하여 기능이 의도대로 작동하는지 확인합니다.

## 예시 실행 결과

### 입력 예시
```plaintext
구입금액을 입력해 주세요.
8000
```

### 출력 예시
```plaintext
8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
```

### 당첨 통계 예시
```plaintext
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

## 참고 자료
- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/): JUnit 5 사용법 및 기능에 대한 공식 가이드입니다.
- [AssertJ User Guide](https://assertj.github.io/doc/): AssertJ 라이브러리를 사용하여 테스트의 가독성을 높이는 방법을 소개합니다.
- [Java Style Guide](https://google.github.io/styleguide/javaguide.html): 구글의 Java 코딩 스타일 가이드로, 일관된 코드 작성에 필요한 규칙과 모범 사례를 제공합니다.
