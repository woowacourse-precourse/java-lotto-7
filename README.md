# 로또 애플리케이션

## 개요
로또 애플리케이션은 사용자로부터 로또 구매 금액과 당첨 번호를 입력받아, 자동으로 로또 번호를 생성하고 당첨 결과 및 수익률을 계산하여 출력하는 콘솔 기반 프로그램입니다.

## 기능 요구 사항

### 1. 로또 번호 규칙
- 로또 번호는 **1부터 45**까지의 정수로 구성됩니다.
- **1개의 로또**는 **중복되지 않는 6개의 숫자**로 생성됩니다.
- **당첨 번호**는 **중복되지 않는 6개의 숫자**와 **보너스 번호 1개**로 구성됩니다.

### 2. 당첨 기준 및 금액
- **1등**: 6개 번호 일치 / **2,000,000,000원**
- **2등**: 5개 번호 + 보너스 번호 일치 / **30,000,000원**
- **3등**: 5개 번호 일치 / **1,500,000원**
- **4등**: 4개 번호 일치 / **50,000원**
- **5등**: 3개 번호 일치 / **5,000원**

### 3. 로또 구매 및 발행
- 사용자가 입력한 **구매 금액**을 바탕으로 **로또 개수**를 계산합니다.
- 로또 1장의 가격은 **1,000원**입니다.
- 구매 금액에 해당하는 만큼의 로또를 **자동으로 발행**합니다.

### 4. 입력 받기
- **로또 구매 금액**을 입력받습니다.
- **당첨 번호**와 **보너스 번호**를 입력받습니다.

### 5. 입력 값 검증
- **로또 구매 금액**:
  - **1,000원 단위**로 입력받아야 합니다.
  - **양수**여야 합니다.
- **당첨 번호**:
  - **콤마(",")**로 구분된 **6개의 정수**여야 합니다.
  - 각 번호는 **1부터 45** 사이의 정수여야 합니다.
  - **중복된 번호**가 없어야 합니다.
- **보너스 번호**:
  - **1부터 45** 사이의 **정수 1개**여야 합니다.
  - **당첨 번호와 중복되지** 않아야 합니다.

### 6. 당첨 결과 및 수익률 계산
- 사용자가 구매한 각 로또와 **당첨 번호**, **보너스 번호**를 비교하여 **일치 개수**를 계산합니다.
- **일치 개수**에 따라 **당첨 결과**를 기록합니다.
- 총 당첨 금액을 계산하고, **수익률**을 계산하여 출력합니다.

### 7. 출력
- 구매한 **로또 개수**와 각 로또의 **번호**를 오름차순으로 정렬하여 출력합니다.
- **당첨 통계**를 출력합니다.
- **총 수익률**을 출력하고 프로그램을 종료합니다.

### 8. 에러 처리
- 잘못된 입력 시 **IllegalArgumentException**을 발생시키고, **"[ERROR]"**로 시작하는 에러 메시지를 출력한 후 재입력을 요구합니다.

## 프로그래밍 요구 사항

### 1. 코드의 간결성
- 각 함수(또는 메서드)의 길이는 **15라인을 넘지 않도록** 구현합니다.
- 각 함수는 **단일 책임 원칙**을 준수하여 **한 가지 일만** 수행하도록 합니다.

### 2. 코딩 스타일
- **`else` 예약어**를 사용하지 않습니다.
- **하드 코딩**을 피하고, 필요한 값은 **상수**로 관리합니다.
- 변수 이름에 **자료형**을 포함하지 않습니다.
- 클래스 내부에서는 **상수**, **멤버 변수**, **생성자**, **메서드**의 순서로 작성합니다.

## 구현할 기능 목록

### 1. 입력 처리

#### 로또 구매 금액 입력 받기
- **입력 방식**: `camp.nextstep.edu.missionutils.Console.readLine()` 사용
- **검증**:
  - **1,000원 단위**인지 확인
  - **양수**인지 확인
  - 위 조건을 만족하지 않을 시 **에러 메시지 출력** 및 재입력 요청

#### 당첨 번호 입력 받기
- **입력 방식**: `camp.nextstep.edu.missionutils.Console.readLine()` 사용
- **검증**:
  - **콤마(",")**로 구분된 **6개의 정수**인지 확인
  - 각 번호가 **1부터 45** 사이의 정수인지 확인
  - **중복된 번호**가 없는지 확인
  - 위 조건을 만족하지 않을 시 **에러 메시지 출력** 및 재입력 요청

#### 보너스 번호 입력 받기
- **입력 방식**: `camp.nextstep.edu.missionutils.Console.readLine()` 사용
- **검증**:
  - **1부터 45** 사이의 **정수 1개**인지 확인
  - **당첨 번호와 중복**되지 않는지 확인
  - 위 조건을 만족하지 않을 시 **에러 메시지 출력** 및 재입력 요청

### 2. 로또 번호 생성

#### 로또 개수 계산
- 구매 금액을 **1,000원**으로 나누어 **로또 개수**를 계산

#### 로또 번호 생성 및 정렬
- **로또 개수**만큼 루프를 돌며 다음 작업 수행:
  - `camp.nextstep.edu.missionutils.Randoms.pickUniqueNumbersInRange(1, 45, 6)`을 사용하여 **중복되지 않는 6개의 숫자**를 추출
  - 추출한 숫자를 **오름차순**으로 정렬
  - 정렬된 번호로 **로또 객체** 생성 후 저장

### 3. 당첨 번호 및 보너스 번호 변환

#### 당첨 번호 변환
- 입력 받은 **당첨 번호 문자열**을 **콤마(",")**로 분리하여 **정수 리스트**로 변환

#### 보너스 번호 변환
- 입력 받은 **보너스 번호 문자열**을 **정수**로 변환

### 4. 로또 당첨 확인

#### 당첨 번호와 로또 비교
- 각 로또에 대해 **일치하는 번호 개수**를 계산
- **보너스 번호**와 일치 여부를 확인
- **일치 개수**와 **보너스 번호 일치 여부**에 따라 **당첨 등수** 결정
- 등수에 따라 **당첨 통계**에 기록

### 5. 수익률 계산

#### 총 당첨 금액 합산
- 각 등수별 당첨 횟수와 당첨 금액을 곱하여 **총 당첨 금액**을 계산

#### 수익률 계산
- **총 당첨 금액**을 **구매 금액**으로 나누고, **백분율(%)**로 환산하여 **수익률**을 계산

### 6. 출력

#### 구매 정보 출력
- 구매한 **로또 개수**와 각 로또의 **번호**를 **오름차순**으로 정렬하여 출력

#### 당첨 통계 출력
- **당첨 등수별** 일치 개수, 당첨 금액, 당첨 횟수를 출력

#### 수익률 출력
- 계산된 **수익률**을 출력

### 7. 예외 처리

#### 로또 구매 금액 관련 예외
- **1,000원 단위**가 아닐 경우
- **양수가 아닐 경우**

#### 로또 번호 관련 예외
- 번호의 **범위(1~45)**를 벗어날 경우
- **6개가 아닐 경우**
- **중복된 번호**가 있을 경우

#### 당첨 번호 관련 예외
- **콤마(",")** 이외의 구분자 사용 시
- **1~45** 사이의 정수가 아닐 경우
- **중복된 번호**가 있을 경우

#### 보너스 번호 관련 예외
- **1~45** 사이의 정수가 아닐 경우
- **당첨 번호와 중복**될 경우

#### 예외 처리 방식
- 위 조건을 만족하지 않을 시 **IllegalArgumentException**을 발생시키고, **"[ERROR]"**로 시작하는 에러 메시지를 출력한 후 해당 입력을 **재요청**합니다.

## 패키지 및 클래스 역할

### `lotto.config`
- **AppConfig.java**
  - 애플리케이션의 의존성을 설정하고, `LottoController`를 생성합니다.

### `lotto.controller`
- **LottoController.java**
  - 애플리케이션의 주요 흐름을 관리하며, 사용자 입력과 출력을 조율합니다.

### `lotto.domain.lotto`
- **Lotto.java**
  - 하나의 로또 티켓을 나타내며, 로또 번호의 유효성을 검증합니다.
- **LottoManager.java**
  - 여러 로또 티켓을 관리하며, 로또 생성 및 저장을 담당합니다.
- **LottoNumbersGenerator.java**
  - 로또 번호를 생성하고, 번호의 유효성을 검증합니다.

### `lotto.domain.WinningLotto`
- **WinningLotto.java**
  - 당첨 등수를 열거형으로 정의하며, 일치 개수와 상금을 관리합니다.
- **WinningLottoCalculate.java**
  - 수익률과 구매 로또 개수를 계산합니다.
- **WinningLottoCounter.java**
  - 각 당첨 등수별로 당첨 횟수를 집계합니다.

### `lotto.dto`
- **WinningLottoResultDTO.java**
  - 당첨 결과를 데이터 전송 객체(DTO)로 표현합니다.

### `lotto.exception`
- **ExceptionMessages.java**
  - 애플리케이션 전반에서 사용되는 에러 메시지를 상수로 정의합니다.

### `lotto.formatter`
- **LottoFormatter.java**
  - 로또 번호와 당첨 결과를 사용자에게 출력하기 위한 형식으로 변환합니다.

### `lotto.parser.business`
- **LottoParser.java**
  - 사용자가 입력한 당첨 번호 문자열을 파싱하여 정수 리스트로 변환합니다.

### `lotto.parser.util`
- **ParseUtils.java**
  - 문자열을 정수로 변환하고, 공백을 제거하는 등의 유틸리티 기능을 제공합니다.

### `lotto.service`
- **LottoService.java**
  - 비즈니스 로직을 처리하며, 로또 생성, 당첨 확인, 수익률 계산 등을 담당합니다.

### `lotto.utils`
- **RandomNumbersSelector.java**
  - 랜덤으로 중복되지 않는 로또 번호를 선택합니다.
- **SortUtils.java**
  - 로또 번호를 오름차순으로 정렬합니다.

### `lotto.validator`
- **LottoValidator.java**
  - 로또 번호와 보너스 번호의 유효성을 검증합니다.

### `lotto.view`
- **InputView.java**
  - 사용자로부터 입력을 받는 역할을 합니다.
- **OutputView.java**
  - 사용자에게 출력을 담당합니다.

### `lotto`
- **Application.java**
  - 애플리케이션의 진입점으로, `LottoController`를 생성하고 실행합니다.

## 프로젝트 구조

