# java-lotto-precourse

## 2주차 피드백 반영

---

> 2주차 과제의 많은 피드백을 받고 이번에도 적용시켜보려고 합니다.!!

### docs

- [x] 온전한 기능 요구 사항 적기
- [x] 기능 목록 작성 시 상세한 내용 제외
- [x] 기능 목록 작성 시 예외 상황도 함께 정리
- [x] 지속적인 기능 목록 업데이트
- [ ] 테스트를 작성하는 이유에 대해 경험을 토대로 정리하기

### 설계

- [x] `Util`클래스 의존성 낮추기
- [x] 객체지향의 특징 살리기
- [ ] 의존성 주입하기

### 코드

- [x] 제대로 된 접근 제어자 사용하기
- [x] `Enum` 적용하기
- [x] 자바 `stream` 적용하기
- [x] 메서드 네이밍 확인하기
- [x] 변수 이름에 자료형 사용하지 않기
- [x] `view`클래스에서 입력도 처리하기

### 테스트

- [x] 작은 단위 테스트 적용하기
- [ ] 큰 단위 테스트 적용하기

## 요구사항 정리

---

### 기능 요구사항

> 간단한 **로또 발매기**를 구현한다.

1. 당첨 번호와 보너스 번호를 입력받는다.
    - 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시킨다.
    - "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.


2. 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행한다.
    - 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.


3. 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.


4. 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력한다.


5. 로또 게임을 종료한다.

### 입력 요구사항

> 요구사항에 맞지 않을 경우 예외 처리한다.

- 로또 구입 금액 입력 시
    - 양수만 입력 받는다.
    - 구입 금액은 1,000원 단위로 입력 받는다.


- 당첨 번호 입력 시
    - 숫자와 쉼표만 입력 받는다.
    - 숫자의 범위는 1 ~ 45까지이다.
    - 번호는 쉼표(,)를 기준으로 구분한다.
    - 숫자 6개만 입력 받는다.
    - 중복된 숫자를 입력하면 안된다.


- 보너스 번호 입력 시
    - 숫자만 입력 받는다.
    - 숫자의 범위는 1 ~ 45까지이다.
    - 숫자 1개만 입력 받는다.
    - 당첨 번호와 중복이면 안된다.

### 출력 요구사항

- 발행한 로또 수량 및 번호 출력
    - 첫째줄에 수량을 출력한다.
    - 다음줄부터 발행한 로또 번호들을 한줄씩 출력한다.
    - 로또 번호는 오름차순으로 정렬하여 보여준다.
    - `[ ]`를 사용하여 로또 수량을 구분한다.
    - `,`를 사용하여 로또 번호를 구분한다.


- 당첨 내역 출력 시
    - 각 등수에 맞는 당첨 내역의 개수를 출력한다.


- 수익률 출력 시
    - 수익률은 소수점 둘째 자리에서 반올림한다.


- 에러 문구 출력 시
    - 예외 상황이 발생한 경우 출력한다.
    - 에러 문구는 "[ERROR]"로 시작한다.

### 프로그래밍 요구사항
- indent depth를 3이 넘지 않도록 구현한다.
- 3항 연산자를 쓰지 않는다.
- 메서드가 한가지 일만 하도록 최대한 작게 만든다.
- 함수의 길이가 15라인을 넘어가지 않도록 구현한다.
- `else` 예약어를 쓰지 않는다.
- Java `Enum`을 적용한다.
- 구현한 기능에 대한 단위 테스트를 작성한다.
- `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` 및 `Console` API를 사용하여 구현한다.
- 제공된 `Lotto` 클래스를 사용하여 구현해야 한다.

## 설계

---
> 2주차 과제의 피드백을 기반으로 다시 한번 객체지향적 설계에 대해 공부해보았다.
> 아래와 같은 순서로 설계하려고 한다.
> 0. ~~요구사항 분석~~
> 1. 핵심 개념과 객체 식별
> 2. 객체 간의 역할과 책임 정의
> 3. 객체 간 관계 설정
> 4. 인터페이스와 추상화 활용
> 5. 구현
>
> > 각 단계마다 단위 테스트를 진행한다.

### 1. 핵심 개념과 객체 식별
> 요구사항을 통해 핵심 객체들을 만든다.
- 로또 : 하나의 로또 티켓을 의미, 번호를 포함한다.
- 보너스 : 사용자가 입력한 보너스 번호를 포함한다.
- 로또티켓 : 여러 장의 로또를 보관하고 구매한 로또 목록을 관리한다.
- 로또기계 : 사용자가 입력한 금액에 따라 로또티켓을 생성한다.
- 당첨로또 : 당첨 번호와 보너스 번호를 관리하며, 로또 당첨 결과를 확인한다.
- 로또순위 : 로또순위에 대한 상금, 조건의 정보를 제공한다.
- 로또결과 : 각 로또티켓의 당첨 여부를 관리하고, 당첨 결과 통계를 제공한다.


### 2. 객체의 역할과 책임 정의
> 각 객체가 담당할 역할과 책임을 구체적으로 정의한다.

- 로또
  - 로또 번호를 보유
  - 특정 번호가 일치하는지 확인
  - 예외 처리
    - 숫자가 6개 넘어가면 예외가 발생한다.
    - 1 ~ 45 사이의 숫자가 아니면 예외가 발생한다.
    - 중복된 숫자가 있다면 예외가 발생한다.

- 보너스
  - 보너스 번호를 보유
  - 2등 당첨의 경우를 확인
  - 예외 처리
    - 사용자가 입력한 당첨 번호와 중복이면 예외가 발생한다.
    - 1 ~ 45 사이의 숫자가 아니면 예외가 발생한다.
    - 숫자가 1개가 아니면 예외가 발생한다.


- 로또티켓
  - 여러 장의 로또를 보관
  - 구매한 로또 목록을 관리


- 로또기계
  - 사용자가 입력한 금액을 기반으로 로또티켓을 생성
  - 로또 번호를 무작위로 생성


- 당첨로또
  - 당첨 번호와 보너스 번호를 보유
  - 로또 객체와 비교해 당첨 여부를 판별


- 로또순위
  - 로또순위에 대한 상금, 조건을 보유


- 로또결과
  - 로또티켓의 당첨 상태를 기록
  - 통계 계산하여 수익률 제공


### 3. 객체 간 관계 설정
![스크린샷 2024-11-02 오후 6.53.47.png](..%2F..%2F..%2F..%2Fvar%2Ffolders%2Fhc%2Fchqxlqcj31vfglq9bl31d3f00000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_7iwQJL%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-11-02%20%EC%98%A4%ED%9B%84%206.53.47.png)

- 로또기계
  - 사용자가 입력한 금액에 따라 로또티켓을 생성한다.


- 로또티켓
  - 여러 장의 로또를 가지고 있다.


- 당첨로또
  - 하나의 로또를 가지고 있다.


- 로또결과
  - 당첨로또와 로또티켓을 비교하여 로또 순위로 결과를 만든다.

### 4. 인터페이스와 추상화 활용
> 어디 부분에서 하면 좋을지 못 찾았습니다. 좋은 피드백 부탁드립니다!
